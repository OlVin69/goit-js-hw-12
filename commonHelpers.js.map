{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formEl = document.querySelector(\".form\");\nconst searchInput = document.querySelector(\".search-input\")\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\".gallery\");\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\n\n\nformEl.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    return;\n  }\n\n  loader.classList.remove(\"hidden\")\n  gallery.innerHTML = \"\";\n  searchInput.value= \"\";\n\n  fetchImages(query)\n    .then(({ hits }) => {\n      renderGallery(hits);\n    })\n    .catch((error) => console.log(error))\n    .finally(() => { loader.classList.add(\"hidden\") }); \n});\n\n\nfunction fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=41700733-d920d8ba94f63c82daa7e2416&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    \n}\n\n  function renderGallery(hits) {\n  if (hits.length > 0) {\n    const galleryHTML = hits.reduce((html, image) => {\n      const { webformatURL, largeImageURL, tags, likes, views, comments, downloads,  } = image;\n\n      return html + `\n        <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" \" >\n          </a>\n          <div class=\"gallery-item-info\">\n            <div>\n            <p><b>Likes</b></p>\n            <p>${likes}</p>\n            </div>\n            <div>\n            <p><b>Views</b></p>\n            <p>${views}</p>\n            </div>\n            <div>\n            <p><b>Comments</b></p>\n            <p>${comments}</p>\n            </div>\n            <div>\n            <p><b>Downloads</b></p>\n            <p>${downloads}</p>\n            </div>\n          </div>\n        </li>\n      `;\n    }, '');\n\n    gallery.insertAdjacentHTML(\"beforeend\", galleryHTML);\n    lightbox.refresh(); \n  } else {\n    iziToast.error({\n                        messageColor: \"rgb(255, 255, 255)\",\n                        backgroundColor: \"red\",\n                        timeout:\"3000\",\n                        message: \"Sorry, there are no images matching your search query. Please try again.\",\n                        position: \"center\",\n                });\n    };\n};\n    \n  "],"names":["formEl","searchInput","loader","gallery","lightbox","SimpleLightbox","event","query","fetchImages","hits","renderGallery","error","url","response","galleryHTML","html","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAOA,MAAMA,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,KAChB,CAAC,EAIDL,EAAO,iBAAiB,SAAWM,GAAU,CAC3CA,EAAM,eAAc,EACpB,MAAMC,EAAQN,EAAY,MAAM,KAAI,EAE/BM,IAILL,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAY,GACpBF,EAAY,MAAO,GAEnBO,EAAYD,CAAK,EACd,KAAK,CAAC,CAAE,KAAAE,KAAW,CAClBC,EAAcD,CAAI,CACxB,CAAK,EACA,MAAOE,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CAAET,EAAO,UAAU,IAAI,QAAQ,CAAC,CAAE,EACrD,CAAC,EAGD,SAASM,EAAYD,EAAO,CAC1B,MAAMK,EAAM,qEAAqEL,4DAEjF,OAAO,MAAMK,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,QAAQ,EAE1D,OAAOA,EAAS,MACtB,CAAK,CAEL,CAEE,SAASH,EAAcD,EAAM,CAC7B,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMK,EAAcL,EAAK,OAAO,CAACM,EAAMC,IAAU,CAC/C,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAa,EAAGP,EAEnF,OAAOD,EAAO;AAAA;AAAA,qBAECG;AAAA,wBACGD,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK7BC;AAAA;AAAA;AAAA;AAAA,iBAIAC;AAAA;AAAA;AAAA;AAAA,iBAIAC;AAAA;AAAA;AAAA;AAAA,iBAIAC;AAAA;AAAA;AAAA;AAAA,OAKZ,EAAE,EAAE,EAELpB,EAAQ,mBAAmB,YAAaW,CAAW,EACnDV,EAAS,QAAO,CACpB,MACIoB,EAAS,MAAM,CACK,aAAc,qBACd,gBAAiB,MACjB,QAAQ,OACR,QAAS,2EACT,SAAU,QAClC,CAAiB,CAEjB"}